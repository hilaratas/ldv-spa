{"version":3,"sources":["webpack:///./src/filter/hru.filter.ts","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/TinyMCE.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/Utils.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/ScriptLoader.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/components/EditorPropTypes.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/components/Editor.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/index.js","webpack:///./src/views/product/ProductAdd.vue","webpack:///./src/utils/isObjsIqual.ts","webpack:///./src/filter/dateInputFormat.filter.ts","webpack:///./src/views/product/ProductAdd.vue?8f96"],"names":["hruFilter","str","ru","n_str","trim","replace","i","length","push","undefined","toLowerCase","toUpperCase","join","getGlobal","window","global","getTinymce","tinymce","validEvents","isValidKey","key","map","event","indexOf","bindHandlers","initEvent","listeners","editor","Object","keys","filter","forEach","handler","on","substring","e","bindModelHandlers","props","ctx","modelValue","modelEvents","normalizedEvents","Array","isArray","val","prevVal","getContent","format","outputFormat","setContent","emit","initEditor","content","attrs","unique","uuid","prefix","time","Date","now","random","Math","floor","String","isTextarea","element","tagName","normalizePluginArray","plugins","split","mergePlugins","initPlugins","inputPlugins","concat","isNullOrUndefined","value","createState","scriptId","scriptLoaded","CreateScriptLoader","state","injectScriptTag","doc","url","callback","scriptTag","createElement","referrerPolicy","type","id","src","removeEventListener","addEventListener","head","appendChild","load","getElementById","fn","reinitialize","ScriptLoader","editorProps","apiKey","cloudChannel","init","initialValue","inline","Boolean","toolbar","disabled","tinymceScriptSrc","validator","prop","__assign","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","this","renderInline","ce","elementRef","ref","renderIframe","visibility","Editor","setup","conf","_a","vueEditor","elementId","inlineEditor","modelBind","mounting","cache","isMounting","initWrapper","finalInit","readonly","selector","style","disable","mode","set","setMode","_","remove","ownerDocument","channel","scriptSrc","rerender","expose","class","_createElementVNode","for","_createElementBlock","action","$setup","formName","onSubmit","_cache","_withModifiers","args","_hoisted_2","_createVNode","_component_news_input_row","inputName","label","description","controlValue","product","title","$event","errors","v$","$errors","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","hru","_hoisted_9","isHruValid","_hoisted_10","_hoisted_11","img","inputType","oldPrice","price","pubDate","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","name","checked","colors","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_Fragment","_renderList","error","$message","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","forOrder","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","aria-describedby","catalogSection","_hoisted_36","catalogSections","cat","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_component_editor","desc","api-key","tinymceKey","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","isFormLoading","_normalizeClass","_hoisted_50","needShowButtons","_hoisted_51","_component_router_link","to","reserveSection","reserveHru","_hoisted_52","isObjsIqual","obj1","obj2","JSON","stringify","dateInputFormat","date","yyyy","getFullYear","mm","getMonth","dd","getDate","store","useStore","useRoute","pubDateStr","productDefault","sale","productRules","required","reactive","isPageLoading","isAlreadyCreated","process","useVuelidate","computed","getters","watch","async","newHru","dispatch","resetForm","$reset","$touch","$error","res","result","text","closable","autoClosable","components","NewsInputRow","__exports__","render"],"mappings":"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","file":"js/chunk-2c5cd68c.575956a0.js","sourcesContent":["interface TranslitSymbol {\r\n  [key: string] : string\r\n}\r\n\r\nexport function hruFilter (str :string ) :string {\r\n  var ru : TranslitSymbol = {\r\n    'а': 'a', 'б': 'b', 'в': 'v', 'г': 'g', 'д': 'd',\r\n    'е': 'e', 'ё': 'e', 'ж': 'j', 'з': 'z', 'и': 'i',\r\n    'к': 'k', 'л': 'l', 'м': 'm', 'н': 'n', 'о': 'o',\r\n    'п': 'p', 'р': 'r', 'с': 's', 'т': 't', 'у': 'u',\r\n    'ф': 'f', 'х': 'h', 'ц': 'c', 'ч': 'ch', 'ш': 'sh',\r\n    'щ': 'shch', 'ы': 'y', 'э': 'e', 'ю': 'u', 'я': 'ya',\r\n    ' ': '-'\r\n  }, n_str = [];\r\n\r\n  str = str.trim().replace(/[ъь]+/g, '').replace(/й/g, 'i');\r\n\r\n  for (var i = 0; i < str.length; ++i) {\r\n    n_str.push(\r\n      ru[str[i]]\r\n      || ru[str[i].toLowerCase()] == undefined && str[i]\r\n      || ru[str[i].toLowerCase()].toUpperCase()\r\n    );\r\n  }\r\n\r\n  return n_str.join('');\r\n}\r\n\r\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function () { return (typeof window !== 'undefined' ? window : global); };\nvar getTinymce = function () {\n    var global = getGlobal();\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { watch } from 'vue';\nvar validEvents = [\n    'onActivate',\n    'onAddUndo',\n    'onBeforeAddUndo',\n    'onBeforeExecCommand',\n    'onBeforeGetContent',\n    'onBeforeRenderUI',\n    'onBeforeSetContent',\n    'onBeforePaste',\n    'onBlur',\n    'onChange',\n    'onClearUndos',\n    'onClick',\n    'onContextMenu',\n    'onCopy',\n    'onCut',\n    'onDblclick',\n    'onDeactivate',\n    'onDirty',\n    'onDrag',\n    'onDragDrop',\n    'onDragEnd',\n    'onDragGesture',\n    'onDragOver',\n    'onDrop',\n    'onExecCommand',\n    'onFocus',\n    'onFocusIn',\n    'onFocusOut',\n    'onGetContent',\n    'onHide',\n    'onInit',\n    'onKeyDown',\n    'onKeyPress',\n    'onKeyUp',\n    'onLoadContent',\n    'onMouseDown',\n    'onMouseEnter',\n    'onMouseLeave',\n    'onMouseMove',\n    'onMouseOut',\n    'onMouseOver',\n    'onMouseUp',\n    'onNodeChange',\n    'onObjectResizeStart',\n    'onObjectResized',\n    'onObjectSelected',\n    'onPaste',\n    'onPostProcess',\n    'onPostRender',\n    'onPreProcess',\n    'onProgressState',\n    'onRedo',\n    'onRemove',\n    'onReset',\n    'onSaveContent',\n    'onSelectionChange',\n    'onSetAttrib',\n    'onSetContent',\n    'onShow',\n    'onSubmit',\n    'onUndo',\n    'onVisualAid'\n];\nvar isValidKey = function (key) {\n    return validEvents.map(function (event) { return event.toLowerCase(); }).indexOf(key.toLowerCase()) !== -1;\n};\nvar bindHandlers = function (initEvent, listeners, editor) {\n    Object.keys(listeners)\n        .filter(isValidKey)\n        .forEach(function (key) {\n        var handler = listeners[key];\n        if (typeof handler === 'function') {\n            if (key === 'onInit') {\n                handler(initEvent, editor);\n            }\n            else {\n                editor.on(key.substring(2), function (e) { return handler(e, editor); });\n            }\n        }\n    });\n};\nvar bindModelHandlers = function (props, ctx, editor, modelValue) {\n    var modelEvents = props.modelEvents ? props.modelEvents : null;\n    var normalizedEvents = Array.isArray(modelEvents) ? modelEvents.join(' ') : modelEvents;\n    watch(modelValue, function (val, prevVal) {\n        if (editor && typeof val === 'string' && val !== prevVal && val !== editor.getContent({ format: props.outputFormat })) {\n            editor.setContent(val);\n        }\n    });\n    editor.on(normalizedEvents ? normalizedEvents : 'change input undo redo', function () {\n        ctx.emit('update:modelValue', editor.getContent({ format: props.outputFormat }));\n    });\n};\nvar initEditor = function (initEvent, props, ctx, editor, modelValue, content) {\n    editor.setContent(content());\n    if (ctx.attrs['onUpdate:modelValue']) {\n        bindModelHandlers(props, ctx, editor, modelValue);\n    }\n    bindHandlers(initEvent, ctx.attrs, editor);\n};\nvar unique = 0;\nvar uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nvar isTextarea = function (element) {\n    return element !== null && element.tagName.toLowerCase() === 'textarea';\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\nvar mergePlugins = function (initPlugins, inputPlugins) {\n    return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\n};\nvar isNullOrUndefined = function (value) {\n    return value === null || value === undefined;\n};\nexport { bindHandlers, bindModelHandlers, initEditor, isValidKey, uuid, isTextarea, mergePlugins, isNullOrUndefined };\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\nvar createState = function () { return ({\n    listeners: [],\n    scriptId: uuid('tiny-script'),\n    scriptLoaded: false\n}); };\nvar CreateScriptLoader = function () {\n    var state = createState();\n    var injectScriptTag = function (scriptId, doc, url, callback) {\n        var scriptTag = doc.createElement('script');\n        scriptTag.referrerPolicy = 'origin';\n        scriptTag.type = 'application/javascript';\n        scriptTag.id = scriptId;\n        scriptTag.src = url;\n        var handler = function () {\n            scriptTag.removeEventListener('load', handler);\n            callback();\n        };\n        scriptTag.addEventListener('load', handler);\n        if (doc.head) {\n            doc.head.appendChild(scriptTag);\n        }\n    };\n    var load = function (doc, url, callback) {\n        if (state.scriptLoaded) {\n            callback();\n        }\n        else {\n            state.listeners.push(callback);\n            if (!doc.getElementById(state.scriptId)) {\n                injectScriptTag(state.scriptId, doc, url, function () {\n                    state.listeners.forEach(function (fn) { return fn(); });\n                    state.scriptLoaded = true;\n                });\n            }\n        }\n    };\n    // Only to be used by tests.\n    var reinitialize = function () {\n        state = createState();\n    };\n    return {\n        load: load,\n        reinitialize: reinitialize\n    };\n};\nvar ScriptLoader = CreateScriptLoader();\nexport { ScriptLoader };\n","export var editorProps = {\n    apiKey: String,\n    cloudChannel: String,\n    id: String,\n    init: Object,\n    initialValue: String,\n    inline: Boolean,\n    modelEvents: [String, Array],\n    plugins: [String, Array],\n    tagName: String,\n    toolbar: [String, Array],\n    modelValue: String,\n    disabled: Boolean,\n    tinymceScriptSrc: String,\n    outputFormat: {\n        type: String,\n        validator: function (prop) { return prop === 'html' || prop === 'text'; }\n    },\n};\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ScriptLoader } from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { isTextarea, mergePlugins, uuid, isNullOrUndefined, initEditor } from '../Utils';\nimport { editorProps } from './EditorPropTypes';\nimport { h, defineComponent, onMounted, ref, toRefs, nextTick, watch, onBeforeUnmount, onActivated, onDeactivated } from 'vue';\nvar renderInline = function (ce, id, elementRef, tagName) {\n    return ce(tagName ? tagName : 'div', {\n        id: id,\n        ref: elementRef\n    });\n};\nvar renderIframe = function (ce, id, elementRef) {\n    return ce('textarea', {\n        id: id,\n        visibility: 'hidden',\n        ref: elementRef\n    });\n};\nexport var Editor = defineComponent({\n    props: editorProps,\n    setup: function (props, ctx) {\n        var conf = props.init ? __assign({}, props.init) : {};\n        var _a = toRefs(props), disabled = _a.disabled, modelValue = _a.modelValue, tagName = _a.tagName;\n        var element = ref(null);\n        var vueEditor = null;\n        var elementId = props.id || uuid('tiny-vue');\n        var inlineEditor = (props.init && props.init.inline) || props.inline;\n        var modelBind = !!ctx.attrs['onUpdate:modelValue'];\n        var mounting = true;\n        var initialValue = props.initialValue ? props.initialValue : '';\n        var cache = '';\n        var getContent = function (isMounting) { return modelBind ?\n            function () { return ((modelValue === null || modelValue === void 0 ? void 0 : modelValue.value) ? modelValue.value : ''); } :\n            function () { return isMounting ? initialValue : cache; }; };\n        var initWrapper = function () {\n            var content = getContent(mounting);\n            var finalInit = __assign(__assign({}, conf), { readonly: props.disabled, selector: \"#\" + elementId, plugins: mergePlugins(conf.plugins, props.plugins), toolbar: props.toolbar || (conf.toolbar), inline: inlineEditor, setup: function (editor) {\n                    vueEditor = editor;\n                    editor.on('init', function (e) { return initEditor(e, props, ctx, editor, modelValue, content); });\n                    if (typeof conf.setup === 'function') {\n                        conf.setup(editor);\n                    }\n                } });\n            if (isTextarea(element.value)) {\n                element.value.style.visibility = '';\n            }\n            getTinymce().init(finalInit);\n            mounting = false;\n        };\n        watch(disabled, function (disable) {\n            var _a;\n            if (vueEditor !== null) {\n                if (typeof ((_a = vueEditor.mode) === null || _a === void 0 ? void 0 : _a.set) === 'function') {\n                    vueEditor.mode.set(disable ? 'readonly' : 'design');\n                }\n                else {\n                    vueEditor.setMode(disable ? 'readonly' : 'design');\n                }\n            }\n        });\n        watch(tagName, function (_) {\n            var _a;\n            if (!modelBind) {\n                cache = vueEditor.getContent();\n            }\n            (_a = getTinymce()) === null || _a === void 0 ? void 0 : _a.remove(vueEditor);\n            nextTick(function () { return initWrapper(); });\n        });\n        onMounted(function () {\n            if (getTinymce() !== null) {\n                initWrapper();\n            }\n            else if (element.value && element.value.ownerDocument) {\n                var channel = props.cloudChannel ? props.cloudChannel : '5';\n                var apiKey = props.apiKey ? props.apiKey : 'no-api-key';\n                var scriptSrc = isNullOrUndefined(props.tinymceScriptSrc) ?\n                    \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\" :\n                    props.tinymceScriptSrc;\n                ScriptLoader.load(element.value.ownerDocument, scriptSrc, initWrapper);\n            }\n        });\n        onBeforeUnmount(function () {\n            if (getTinymce() !== null) {\n                getTinymce().remove(vueEditor);\n            }\n        });\n        if (!inlineEditor) {\n            onActivated(function () {\n                if (!mounting) {\n                    initWrapper();\n                }\n            });\n            onDeactivated(function () {\n                var _a;\n                if (!modelBind) {\n                    cache = vueEditor.getContent();\n                }\n                (_a = getTinymce()) === null || _a === void 0 ? void 0 : _a.remove(vueEditor);\n            });\n        }\n        var rerender = function (init) {\n            var _a;\n            cache = vueEditor.getContent();\n            (_a = getTinymce()) === null || _a === void 0 ? void 0 : _a.remove(vueEditor);\n            conf = __assign(__assign({}, conf), init);\n            nextTick(function () { return initWrapper(); });\n        };\n        ctx.expose({\n            rerender: rerender\n        });\n        return function () { return inlineEditor ?\n            renderInline(h, elementId, element, props.tagName) :\n            renderIframe(h, elementId, element); };\n    }\n});\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { Editor } from './components/Editor';\nexport default Editor;\n","<template>\r\n  <form action=\"#\" :id=\"formName\" class=\"form\" @submit.prevent=\"onSubmit\">\r\n    <table class=\"form__table\">\r\n      <tbody>\r\n      <news-input-row\r\n          :formName=\"formName\"\r\n          inputName=\"product-title\"\r\n          label=\"Название изделия*\"\r\n          description=\"Поле обязательно к заполнению\"\r\n          v-model:controlValue=\"product.title\"\r\n          :errors=\"v$.title.$errors\"\r\n      >\r\n      </news-input-row>\r\n      <tr>\r\n        <td class=\"form__table-cell\">\r\n          ЧПУ\r\n        </td>\r\n        <td class=\"form__table-cell form__table-cell--wide\">\r\n          <div style=\"padding-bottom: 20px\">\r\n            <div class=\"input input--only-bottom\">\r\n              <div class=\"row\">\r\n                <div class=\"col\">\r\n                  <small >{{hru}}</small>\r\n                </div>\r\n                <div class=\"col-auto\">\r\n                  <span v-if=\"isHruValid\" class=\"check is-seccess\">✔</span>\r\n                  <span v-else class=\"check is-error\">✘</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <news-input-row\r\n          :formName=\"formName\"\r\n          inputName=\"product-img\"\r\n          label=\"Ссылка на картинку\"\r\n          description=\"Поле обязательно к заполнению.\r\n          Картинка в формате jpg, png, svg, webp. Размер картинки не более 800*800px.\r\n          <br> Вес картинки не более 2Мб\"\r\n          v-model:controlValue=\"product.img\"\r\n          :errors=\"v$.img.$errors\"\r\n      >\r\n      </news-input-row>\r\n      <news-input-row\r\n          :formName=\"formName\"\r\n          inputName=\"product-olp-price\"\r\n          inputType=\"number\"\r\n          label=\"Старая цена\"\r\n          description=\"Поле необязательно к заполнению\"\r\n          v-model:controlValue=\"product.oldPrice\"\r\n          :errors=\"[]\"\r\n      >\r\n      </news-input-row>\r\n      <news-input-row\r\n          :formName=\"formName\"\r\n          inputName=\"product-price\"\r\n          inputType=\"number\"\r\n          label=\"Новая цена *\"\r\n          description=\"Поле обязательно к заполнению\"\r\n          v-model:controlValue=\"product.price\"\r\n          :errors=\"v$.price.$errors\"\r\n      >\r\n      </news-input-row>\r\n      <news-input-row\r\n        :formName=\"formName\"\r\n        inputName=\"product-pubDate\"\r\n        inputType=\"date\"\r\n        label=\"Дата публикации\"\r\n        description=\"2 месяца со дня публикации изделия считается новым. <br>\r\n          Если дата публикации больше текущей даты, продукт не отображается на сайте\"\r\n        v-model:controlValue=\"product.pubDate\"\r\n        :errors=\"[]\"\r\n      >\r\n      </news-input-row>\r\n      <tr>\r\n        <td class=\"form__table-cell form__table-cell--pr15px\">\r\n          <label class=\"nowrap\" >Цвета *</label>\r\n        </td>\r\n        <td class=\"form__table-cell form__table-cell--wide\">\r\n          <div class=\"row row--6px\">\r\n            <div class=\"col-auto\">\r\n              <label class=\"product-color\"><input type=\"checkbox\" name=\"product-color\" value=\"black\" checked=\"\" v-model=\"product.colors\"><span class=\"radio_attr_label\">Черный</span></label>\r\n            </div>\r\n            <div class=\"col-auto\">\r\n              <label class=\"product-color\"><input type=\"checkbox\" name=\"product-color\" value=\"silver\" v-model=\"product.colors\"><span class=\"radio_attr_label\">Серебрянный</span></label>\r\n            </div>\r\n            <div class=\"col-auto\">\r\n              <label class=\"product-color\"><input type=\"checkbox\" name=\"product-color\" value=\"copper\" v-model=\"product.colors\"><span class=\"radio_attr_label\">Медный</span></label>\r\n            </div>\r\n          </div>\r\n          <div class=\"control-error-holder\">\r\n            <div class=\"control-error\" v-if=\"v$.colors.$errors.length\">\r\n              <div v-for=\"error of v$.colors.$errors\">\r\n                <div>{{ error.$message }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style=\"padding-bottom: 10px\">\r\n            <small class=\"control-description\" id=\"product-color-disc\">Поле обязательно к заполнению</small>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"form__table-cell form__table-cell--pr15px\">\r\n          <label class=\"nowrap\" for=\"product-forOrder\">Под заказ</label>\r\n        </td>\r\n        <td class=\"form__table-cell form__table-cell--wide\">\r\n          <div class=\"form__row\">\r\n            <label class=\"checkbox\">\r\n              <input type=\"checkbox\" id=\"product-forOrder\" name=\"product-forOrder\" value=\"1\" v-model=\"product.forOrder\">\r\n              <span class=\"checkbox__indicator\"></span>\r\n            </label>\r\n          </div>\r\n          <div style=\"padding-bottom: 10px\">\r\n            <small class=\"control-description\" id=\"product-forOrder-disc\">Поле необязательно к заполнению</small>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"form__table-cell form__table-cell--pr15px\">\r\n          <label class=\"nowrap\" >Раздел каталога *</label>\r\n        </td>\r\n        <td class=\"form__table-cell form__table-cell--wide\">\r\n          <div class=\"select\">\r\n            <select name=\"product-section\" id=\"product-section\" class=\"select__select\" aria-describedby=\"product-section-disc\" v-model=\"product.catalogSection\">\r\n              <option value=\"\" disabled>Выберите раздел</option>\r\n              <option v-for=\"(cat, key) in catalogSections\" :value=\"key\">{{cat.title}}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"control-error-holder\">\r\n            <div class=\"control-error\" v-if=\"v$.catalogSection.$errors.length\">\r\n              <div v-for=\"error of v$.catalogSection.$errors\">\r\n                <div>{{ error.$message }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style=\"padding-bottom: 10px\">\r\n            <small class=\"control-description\" id=\"product-section-disc\">Поле обязательно к заполнению</small>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"form__table-cell form__table-cell--pr15px\">\r\n          <label class=\"nowrap\" >Описание издения *</label>\r\n        </td>\r\n        <td class=\"form__table-cell form__table-cell--wide\">\r\n          <editor v-model=\"product.desc\" :api-key=\"tinymceKey\" aria-describedby=\"product-desc-disc\"></editor>\r\n          <div class=\"control-error-holder\">\r\n            <div class=\"control-error\" v-if=\"v$.desc.$errors.length\">\r\n              <div v-for=\"error of v$.desc.$errors\">\r\n                <div>{{ error.$message }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style=\"padding-bottom: 10px\">\r\n            <small class=\"control-description\" id=\"product-desc-disc\">Поле обязательно к заполнению</small>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"form__table-cell\"></td>\r\n        <td class=\"form__table-cell form__table-cell--wide\">\r\n          <div class=\"row\">\r\n            <div class=\"col-auto\">\r\n              <button type=\"submit\" :disabled=\"isFormLoading\" :class=\"['button', {'is-loading': isFormLoading}]\" >Отправить</button>\r\n            </div>\r\n            <div v-if=\"needShowButtons\" class=\"col-auto\">\r\n              <router-link :to=\"'/catalog/' + reserveSection + '/' + reserveHru\" class=\"button\">Посмотреть продукт</router-link>\r\n            </div>\r\n            <div v-if=\"needShowButtons\" class=\"col-auto\">\r\n              <router-link :to=\"'/catalog/product/edit/' + reserveHru\" class=\"button\">Редактировать продукт</router-link>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </form>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRoute } from \"vue-router/dist/vue-router\";\r\nimport { useVuelidate } from '@vuelidate/core'\r\nimport { required } from \"@vuelidate/validators\";\r\nimport { hruFilter } from \"@/filter/hru.filter\";\r\nimport { isObjsIqual } from \"@/utils/isObjsIqual\";\r\nimport Editor from '@tinymce/tinymce-vue'\r\nimport NewsInputRow from \"@/components/News/NewsInputRow.vue\";\r\nimport {dateInputFormat} from \"@/filter/dateInputFormat.filter\";\r\n\r\nexport default {\r\n  name: \"ProductAdd\",\r\n  setup() {\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const formName = 'product'\r\n    const pubDate = new Date()\r\n    const pubDateStr = dateInputFormat(pubDate)\r\n    const productDefault = {\r\n      title: '',\r\n      img: '',\r\n      oldPrice: '',\r\n      price: '',\r\n      colors: [],\r\n      desc: '',\r\n      sale: '',\r\n      forOrder: '',\r\n      catalogSection: '',\r\n      pubDate: pubDateStr\r\n    }\r\n    const productRules = {\r\n      title: { required },\r\n      img: { required },\r\n      oldPrice: { required },\r\n      price: { required },\r\n      colors: { required },\r\n      desc: { required },\r\n      catalogSection: {required}\r\n    }\r\n    const product = reactive({...productDefault})\r\n    const isHruValid = ref(false)\r\n    const isPageLoading = ref(true)\r\n    const isFormLoading = ref(false)\r\n    const isAlreadyCreated = ref(false)\r\n    const tinymceKey = process.env.VUE_APP_TINYMCE_API_KEY\r\n    const v$ = useVuelidate(productRules, product)\r\n    const hru = computed(() => hruFilter(product.title))\r\n    const reserveSection = ref('')\r\n    const reserveHru = ref('')\r\n    const needShowButtons = computed(() => (\r\n      !isAlreadyCreated.value ?\r\n        false :  isObjsIqual(product, productDefault)\r\n      ))\r\n    const catalogSections = store.getters['catalog/catalogSections']\r\n\r\n    watch( hru, async (newHru) => {\r\n      if ( !newHru ) {\r\n        isHruValid.value = false\r\n        return\r\n      }\r\n      isHruValid.value = await store.dispatch('product/isUniqueProduct', newHru)\r\n    })\r\n\r\n    const resetForm = () => {\r\n      Object.keys(product).map(key => product[key] = productDefault[key])\r\n      v$.value.$reset()\r\n    }\r\n\r\n    const onSubmit = async () => {\r\n      v$.value.$touch()\r\n      if (v$.value.$error || !isHruValid.value) {\r\n        return;\r\n      }\r\n\r\n      isFormLoading.value = true\r\n      const res = await store.dispatch('product/createProduct', {\r\n        ...product,\r\n        pubDate: new Date(product.pubDate),\r\n        hru: hru.value}\r\n      )\r\n      if (res.result) {\r\n        isAlreadyCreated.value = true\r\n        reserveHru.value = hru.value\r\n        reserveSection.value = product.catalogSection\r\n        resetForm()\r\n        await store.dispatch('alerts/alertAdd', {\r\n          id: Date.now(),\r\n          text: `Новый продукт успешно создан<br>\r\n            Перейти <a href=\"/catalog/${reserveSection.value}/${reserveHru.value}\">просмотру.<br>\r\n            Перейти к <a href=\"/${reserveSection.value}/\">каталогу</a>.\r\n          `,\r\n          type: 'success',\r\n          closable: true,\r\n          autoClosable: false\r\n        })\r\n        await store.dispatch('catalog/fetchCatalogSections')\r\n      } else {\r\n        await store.dispatch('alerts/alertAdd', {\r\n          id: Date.now(),\r\n          text: 'Ошибка сервера при создании нового продукта',\r\n          type: 'error',\r\n          closable: true,\r\n          autoClosable: false\r\n        })\r\n      }\r\n      isFormLoading.value = false\r\n    }\r\n\r\n    return {\r\n      hru,\r\n      product,\r\n      formName,\r\n      isHruValid,\r\n      isFormLoading,\r\n      isPageLoading,\r\n      isAlreadyCreated,\r\n      needShowButtons,\r\n      catalogSections,\r\n      tinymceKey,\r\n      reserveHru,\r\n      reserveSection,\r\n      onSubmit,\r\n      v$\r\n    }\r\n  },\r\n  components: { NewsInputRow, Editor }\r\n}\r\n</script>","export function isObjsIqual(obj1: object, obj2 : object): boolean {\r\n  return JSON.stringify(obj1) === JSON.stringify(obj2)\r\n}","export function dateInputFormat(date: Date) :string {\r\n  let yyyy = date.getFullYear()\r\n  let mm : number | string = date.getMonth()\r\n  let dd = date.getDate()\r\n  mm = ++mm >= 10 ? mm : '0' + mm\r\n  return `${yyyy}-${mm}-${dd}`\r\n}","import { render } from \"./ProductAdd.vue?vue&type=template&id=5dabb331\"\nimport script from \"./ProductAdd.vue?vue&type=script&lang=js\"\nexport * from \"./ProductAdd.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Programming\\\\LDV spa\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}