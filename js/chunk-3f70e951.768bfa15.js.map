{"version":3,"sources":["webpack:///./src/views/SingUp.vue?b993","webpack:///./src/views/SingUp.vue?d812","webpack:///./src/views/SingUp.vue","webpack:///./src/config/error-codes.ts","webpack:///./src/utils/error.ts","webpack:///./src/config/date-time-filter.options.ts","webpack:///./src/filter/dateTime.filter.ts","webpack:///./src/config/skip-auto-config.ts","webpack:///./src/use/use.skip-auto.ts"],"names":["_hoisted_1","key","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_link","_resolveComponent","_component_news_input_row","isAuth","_openBlock","_createElementBlock","_createTextVNode","href","onClick","args","onClickLogout","_Fragment","_createVNode","to","default","_withCtx","_","action","id","formId","novalidate","onSubmit","_withModifiers","formName","inputType","inputName","label","description","controlValue","form","email","$event","errors","v$","$errors","password","repeatPassword","type","disabled","isFormLoading","isAttemptsExeed","isSubmitBlocked","_normalizeClass","_toDisplayString","dateTimeFilter","blockedUntilDate","_createCommentVNode","defineComponent","name","setup","store","useStore","router","useRouter","ref","reactive","formPassword","computed","formRules","required","minLength","sameAs","useVuelidate","getters","isDisabled","attemptCount","useSkipAuto","async","value","$touch","$error","result","data","dispatch","push","errorCode","error","message","specifyErrorCode","Date","now","text","closable","autoClosable","e","components","NewsInputRow","__exports__","ERROR_CODES","EMAIL_NOT_FOUND","INVALID_PASSWORD","TOO_MANY_ATTEMPTS_TRY_LATER","USER_DISABLED","EMAIL_EXISTS","SING_UP_OPERATION_NOT_ALLOWED","auth","code","DATE_TIME_FILTER_OPTIONS","day","month","year","hour","minute","second","date","Intl","DateTimeFormat","format","DISABLED_INTERVAL","MAX_ATTEMPT_COUNT","authType","storeParam","blockedUntil","getTime","watch","newValue","newBlockedUntil","payload","setMilliseconds","getMilliseconds","setTimeout"],"mappings":"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","file":"js/chunk-3f70e951.768bfa15.js","sourcesContent":["import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, withModifiers as _withModifiers, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"text\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Вы авторизованы на сайте\", -1)\nconst _hoisted_3 = { class: \"text\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_5 = [\"id\"]\nconst _hoisted_6 = { class: \"form__table\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"td\", { class: \"form__table-cell\" }, null, -1)\nconst _hoisted_8 = { class: \"form__table-cell form__table-cell--wide\" }\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = { key: 0 }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_12 = { class: \"control-description is-error\" }\nconst _hoisted_13 = { class: \"nowrap\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_news_input_row = _resolveComponent(\"news-input-row\")!\n\n  return (_ctx.isAuth)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"p\", null, [\n          _createTextVNode(\"Чтобы создать нового пользователя, пожалуйста, \"),\n          _createElementVNode(\"a\", {\n            href: \"#\",\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickLogout && _ctx.onClickLogout(...args)))\n          }, \"разлогиньтесь\")\n        ])\n      ]))\n    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"p\", null, [\n            _createTextVNode(\" Если у вас уже есть учетная запись, вы можете \"),\n            _createVNode(_component_router_link, { to: \"/singin\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"авторизоваться\")\n              ]),\n              _: 1\n            }),\n            _createTextVNode(\". \")\n          ]),\n          _hoisted_4\n        ]),\n        _createElementVNode(\"form\", {\n          action: \"#\",\n          id: _ctx.formId,\n          class: \"form\",\n          novalidate: \"\",\n          onSubmit: _cache[4] || (_cache[4] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.onSubmit && _ctx.onSubmit(...args)), [\"prevent\"]))\n        }, [\n          _createElementVNode(\"table\", _hoisted_6, [\n            _createElementVNode(\"tbody\", null, [\n              _createVNode(_component_news_input_row, {\n                formName: _ctx.formId,\n                inputType: \"email\",\n                inputName: \"email\",\n                label: \"Email *\",\n                description: \"Поле обязательно к заполнению\",\n                controlValue: _ctx.form.email,\n                \"onUpdate:controlValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.form.email) = $event)),\n                errors: _ctx.v$.email.$errors\n              }, null, 8, [\"formName\", \"controlValue\", \"errors\"]),\n              _createVNode(_component_news_input_row, {\n                formName: _ctx.formId,\n                inputType: \"password\",\n                inputName: \"password\",\n                label: \"Пароль *\",\n                description: \"Поле обязательно к заполнению\",\n                controlValue: _ctx.form.password,\n                \"onUpdate:controlValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.form.password) = $event)),\n                errors: _ctx.v$.password.$errors\n              }, null, 8, [\"formName\", \"controlValue\", \"errors\"]),\n              _createVNode(_component_news_input_row, {\n                formName: _ctx.formId,\n                inputType: \"password\",\n                inputName: \"repeat_password\",\n                label: \"Повторите <br> пароль *\",\n                description: \"Поле обязательно к заполнению\",\n                controlValue: _ctx.form.repeatPassword,\n                \"onUpdate:controlValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.form.repeatPassword) = $event)),\n                errors: _ctx.v$.repeatPassword.$errors\n              }, null, 8, [\"formName\", \"controlValue\", \"errors\"]),\n              _createElementVNode(\"tr\", null, [\n                _hoisted_7,\n                _createElementVNode(\"td\", _hoisted_8, [\n                  _createElementVNode(\"button\", {\n                    type: \"submit\",\n                    disabled: _ctx.isFormLoading || _ctx.isAttemptsExeed || _ctx.isSubmitBlocked,\n                    class: _normalizeClass(['button', {'is-loading': _ctx.isFormLoading}])\n                  }, \" Отправить \", 10, _hoisted_9),\n                  (_ctx.isSubmitBlocked)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                        _hoisted_11,\n                        _createElementVNode(\"small\", _hoisted_12, [\n                          _createTextVNode(\" Превышено максимальное количество попыток зарегистрироваться. Возможность зарегистрироваться заблокирована до \"),\n                          _createElementVNode(\"span\", _hoisted_13, _toDisplayString(_ctx.dateTimeFilter(_ctx.blockedUntilDate)), 1)\n                        ])\n                      ]))\n                    : _createCommentVNode(\"\", true)\n                ])\n              ])\n            ])\n          ])\n        ], 40, _hoisted_5)\n      ], 64))\n}","\r\nimport {defineComponent, ref, reactive, computed, watch} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {useVuelidate} from '@vuelidate/core'\r\nimport {required, email, minLength, sameAs} from '@vuelidate/validators'\r\nimport NewsInputRow from \"@/components/News/NewsInputRow.vue\";\r\nimport {MAX_ATTEMPT_COUNT, DISABLED_INTERVAL} from '@/config/skip-auto-config'\r\nimport {dateTimeFilter} from \"@/filter/dateTime.filter\";\r\nimport {useSkipAuto} from \"@/use/use.skip-auto\";\r\nimport {error} from \"@/utils/error\";\r\n\r\nexport default defineComponent({\r\n  name: \"SingUp\",\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const formId = ref('auth')\r\n    const form = reactive({ email: '', password: '', repeatPassword: '' })\r\n    const formPassword = computed(() => form.password)\r\n    const formRules = {\r\n      email: { required, email }, // Matches from.email\r\n      password: { required, minLength: minLength(6) }, // Matches form.password\r\n      repeatPassword: { required, minLength: minLength(6) , sameAs: sameAs(formPassword)}\r\n    }\r\n    const v$ = useVuelidate(formRules, form)\r\n    const isAuth = store.getters[\"auth/isAuth\"]\r\n\r\n    const { isDisabled, isFormLoading, isSubmitBlocked, isAttemptsExeed,\r\n      blockedUntilDate, attemptCount} = {...useSkipAuto('singUp')}\r\n\r\n    const onSubmit = async() => {\r\n      v$.value.$touch()\r\n      if (v$.value.$error) {\r\n        return;\r\n      }\r\n      try {\r\n        isFormLoading.value = true\r\n        let { result, data } = await store.dispatch('auth/singUp', form)\r\n        if (result) {\r\n          await store.dispatch('profile/fetchProfile')\r\n          await router.push('/profile')\r\n        } else {\r\n          const errorCode: string = data.error.message\r\n          const specifyErrorCode: string = errorCode !== 'OPERATION_NOT_ALLOWED' ?\r\n            errorCode :`SING_UP_${errorCode}`\r\n          await store.dispatch('alerts/alertAdd', {\r\n            id: Date.now(),\r\n            text: error(specifyErrorCode),\r\n            type: 'error',\r\n            closable: true,\r\n            autoClosable: false\r\n          })\r\n          attemptCount.value ++\r\n        }\r\n      } catch (e) {\r\n      } finally {\r\n        isFormLoading.value = false\r\n      }\r\n    }\r\n\r\n    const onClickLogout = async() => {\r\n      await store.dispatch('auth/logout')\r\n    }\r\n\r\n\r\n    return {\r\n      formId,\r\n      form,\r\n      v$,\r\n      isAuth,\r\n      isDisabled,\r\n      isFormLoading,\r\n      isSubmitBlocked,\r\n      isAttemptsExeed,\r\n      blockedUntilDate,\r\n      onSubmit,\r\n      onClickLogout,\r\n      dateTimeFilter\r\n    }\r\n  },\r\n  components: {NewsInputRow}\r\n})\r\n","import { render } from \"./SingUp.vue?vue&type=template&id=89f03b4a&ts=true\"\nimport script from \"./SingUp.vue?vue&type=script&lang=ts\"\nexport * from \"./SingUp.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Programming\\\\LDV spa\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","interface ErrorCodes {\r\n  [key: string] : string\r\n}\r\n\r\nconst ERROR_CODES : ErrorCodes = {\r\n  EMAIL_NOT_FOUND: 'Пользователь с таким email не был найден',\r\n  INVALID_PASSWORD: 'Пароль неверный',\r\n  TOO_MANY_ATTEMPTS_TRY_LATER: 'Превышено максимальное количество попыток зарегистрироваться.',\r\n  USER_DISABLED: 'Учетная запись пользователя отключена администратором',\r\n  EMAIL_EXISTS: 'Пользователь с таким адресом электронной почты уже зарегистрирован',\r\n  SING_UP_OPERATION_NOT_ALLOWED: 'Для этого сайта недоступна регистрация с помощью лектронной почты и пароля',\r\n  auth: 'Пожалуйста войдите в систему'\r\n}\r\n\r\nexport default ERROR_CODES\r\n\r\n","import ERROR_CODES from '@/config/error-codes'\r\n\r\nexport function error(code: string) : string{\r\n  return ERROR_CODES[code] ? ERROR_CODES[code] : 'Неизвестная ошибка'\r\n}","export const DATE_TIME_FILTER_OPTIONS = {\r\n  day: '2-digit',\r\n  month: 'long',\r\n  year: 'numeric',\r\n  hour: '2-digit',\r\n  minute: '2-digit',\r\n  second: '2-digit'\r\n}","import {DATE_TIME_FILTER_OPTIONS} from \"@/config/date-time-filter.options\";\r\n\r\nexport function dateTimeFilter(date: Date) {\r\n  return Intl.DateTimeFormat('ru-Ru', DATE_TIME_FILTER_OPTIONS).format(date)\r\n}","export const DISABLED_INTERVAL = 1000*50\r\nexport const MAX_ATTEMPT_COUNT = 3","import {computed, ref, watch} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {DISABLED_INTERVAL, MAX_ATTEMPT_COUNT} from \"@/config/skip-auto-config\";\r\nimport {skipAutoState} from \"@/store/skipAuto/types\";\r\n\r\ntype authTypes = 'singUp' | 'singIn'\r\n\r\nexport function useSkipAuto (authType :authTypes) {\r\n  const store = useStore()\r\n  const attemptCount = ref(0)\r\n  const isFormLoading = ref(false)\r\n  const storeParam = `skipAuto/${authType}`\r\n  const blockedUntil = computed(() => store.getters[storeParam])\r\n  const blockedUntilDate = computed(() => new Date(blockedUntil.value))\r\n  const isAttemptsExeed = computed(() => attemptCount.value >= MAX_ATTEMPT_COUNT)\r\n  const isSubmitBlocked = computed( () => blockedUntilDate.value ? blockedUntilDate.value.getTime() > Date.now() : false)\r\n  const isDisabled = computed(() => {\r\n    isFormLoading.value || isSubmitBlocked.value\r\n  })\r\n\r\n  watch(isAttemptsExeed, (newValue: boolean) => {\r\n    let newBlockedUntil = new Date();\r\n    let payload = {}\r\n\r\n    if (!newValue) {\r\n      return\r\n    }\r\n\r\n    newBlockedUntil.setMilliseconds(newBlockedUntil.getMilliseconds() + DISABLED_INTERVAL)\r\n    //@ts-ignore\r\n    payload[authType] = newBlockedUntil\r\n\r\n    store.dispatch('skipAuto/setParam', payload)\r\n    setTimeout(\r\n      () => {\r\n        attemptCount.value = 0\r\n        store.dispatch('skipAuto/setParam', {'singUp': null})\r\n      },\r\n      DISABLED_INTERVAL\r\n    )\r\n  })\r\n\r\n return {\r\n   isDisabled,\r\n   isFormLoading,\r\n   isSubmitBlocked,\r\n   isAttemptsExeed,\r\n   attemptCount,\r\n   blockedUntilDate\r\n }\r\n}\r\n"],"sourceRoot":""}